<div class="container-fluid">
    <form enctype="multipart/form-data" [formGroup]="addProduct" (ngSubmit)="addProducts()">
        <div class="row product-adding">
            <div class="col-xl-6">
                <div class="card">
                    <div class="card-header">
                        <h5>Choose Category</h5>
                    </div>
                    <div class="card-body">
                        <div class="digital-add needs-validation">
                            <div class="form-group">
                                <label class="col-form-label"><span>*</span> Category group</label>
                                <select class="form-control" formControlName="mainCatName" (change)="getSubCategory()">
                                    <option *ngFor="let c of categories" value="{{c.id}}">{{c.main_cat_name}}</option>
                                </select>
                            </div>

                            <div class="form-group" *ngIf="addProduct.value.mainCatName">
                                <label class="col-form-label"><span>*</span> Category name</label>
                                <select class="form-control" formControlName="subCatId" (change)="getSpecsByCatId()">
                                    <option *ngFor="let sc of subCat[0].subItems" value="{{sc.cat_id}}">{{sc.cat_name}}</option>
                                </select>
                            </div>

                            <!-- <div class="form-group" *ngIf="addProduct.value.mainCatName">
                                <label class="col-form-label"><span>*</span> cities</label>
                                <select class="form-control" formControlName="cityId" multiple>
                                    <option *ngFor="let c of cities" value="{{c.city_id}}">{{c.city_name}}</option>
                                </select>
                            </div> -->
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h5>Choose Accessories</h5>
                    </div>
                    <div class="card-body">
                        <div class="digital-add needs-validation">
                            <div class="form-group">
                                <label class="col-form-label"><span>*</span> Accessories</label>
                                <select class="form-control" formControlName="accessory" multiple>
                                    <option *ngFor="let a of accessories" value="{{a.id}}">{{a.acceesory_name}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h5>General</h5>
                    </div>
                    <div class="card-body">
                        <div class="digital-add needs-validation">    
                            <div class="form-group">
                                <label for="validationTitle" class="col-form-label pt-0"><span>*</span> Product name</label>
                                <input class="form-control" formControlName="productName" type="text" required="">
                            </div>

                            <div class="form-group">
                                <label for="validationTitle" class="col-form-label pt-0"><span>*</span> Meta title</label>
                                <input class="form-control" formControlName="metaTitle" type="text" required="">
                            </div>

                            <div class="form-group">
                                <label for="validationTitle" class="col-form-label pt-0"><span>*</span> Product slug</label>
                                <input class="form-control" formControlName="slug" type="text" required="">
                            </div>

                            <div class="form-group">
                                <label for="validationTitle" class="col-form-label pt-0"><span>*</span> Product description</label>
                                <input class="form-control" formControlName="prodDescription" type="text" required="">
                            </div>

                            <!-- <div class="form-group">
                                <label for="validationTitle" class="col-form-label pt-0"><span>*</span> Product quantity</label>
                                <input class="form-control" formControlName="prodQty" type="number" required="">
                            </div>
                            <div class="form-group">
                                <label for="validationTitle" class="col-form-label pt-0"><span>*</span> Product delivery timeline</label>
                                <input class="form-control" formControlName="deliveryTimeline" type="number" required="">
                            </div> -->
                            <div class="form-group">
                                <label for="validationTitle" class="col-form-label pt-0"><span>*</span> Security deposit</label>
                                <input class="form-control" formControlName="securityDeposit" type="number" required="">
                            </div>
                            <div class="form-group">
                                <label for="validationTitle" class="col-form-label pt-0"><span>*</span> Tenure base price</label>
                                <input class="form-control" formControlName="tenureBasePrice" type="number" required="">
                            </div>
                            <div class="form-group">
                                <label class="col-form-label"><span>*</span> Pricing scheme</label>
                                <select class="form-control" formControlName="priority">
                                    <option *ngFor="let ps of pricingSchemes" value="{{ps.id}}">{{ps.scheme_name}}</option>
                                </select>
                            </div>
                            <!-- <div class="form-group">
                                <label for="validationTitle" class="col-form-label pt-0"><span>*</span> Priority</label>
                                <input class="form-control" formControlName="priority" type="number" required="">
                            </div> -->
                            <!-- <div class="form-group">
                                <label for="validationTitle" class="col-form-label pt-0"><span>*</span> Product image</label>
                                <input type="file" id="product_image" (change)="imageChange($event)"  formControlName="prodImage"  multiple  />
                            </div> -->

                            <div class="form-group">
                                <label class="col-form-label"><span>*</span> Product status</label>
                                <div class="m-checkbox-inline mb-0 custom-radio-ml d-flex radio-animated">
                                    <label class="d-block" for="edo-ani">
                                        <input class="radio_animated"  formControlName="prodStatus" [value]="1"   type="radio">
                                        Yes
                                    </label>
                                    <label class="d-block" for="edo-ani1">
                                        <input class="radio_animated" formControlName="prodStatus" [value]="0"   type="radio">
                                        No
                                    </label>
                                </div>
                            </div>

                            <div class="form-group" *ngIf="addProduct.value.mainCatName">
                                <label class="col-form-label"><span>*</span> Highlights</label>
                                <select class="form-control" formControlName="highlightType" multiple>
                                    <option value="1">Featured</option>
                                    <option value="2">Best seller</option>
                                    <option value="3">New products</option>
                                </select>
                            </div>

                            
                            <!-- <div class="form-group" *ngIf="addProduct.value.subCatId">
                                <label class="col-form-label"><span>*</span> Brands</label>
                                <select class="form-control" formControlName="brandId">
                                    <option *ngFor="let b of brands" value="{{b.brand_id}}">{{b.brand_name}}</option>
                                </select>
                            </div> -->
                            
                            <!-- <div formArrayName="specs">
                                <div class="form-group" *ngFor="let cs of catSpecs; let i = index;">
                                   <label class="col-form-label pt-0"><span>*</span>{{cs.spec_name}}</label>
                                   <input class="form-control" id="validation3m" formControlName="{{cs.spec_name}}"  type="text" required="">
                                </div>
                            </div> -->
                            <div formArrayName="specs" *ngIf="addProduct.value.subCatId">                                
                                <div class="form-group" *ngFor="let cs of catSpecs; let i = index;">
                                    <label class="col-form-label"><span>*</span> {{cs.spec_name}}</label>
                                    <select class="form-control" formControlName="{{cs.spec_id}}" >
                                        <option *ngFor="let sv of cs.spec_id | specValues" value="{{sv.spec_value}}">{{sv.spec_value}}</option>
                                    </select>
                                </div>
                            </div>
                            
                                    <div *ngIf="prodRequied">All fields are required</div>
                                    <!-- <div *ngIf="prodSuccessfull">Product added successfully</div> -->
                                <button type="submit" class="btn btn-primary mr-1">Add</button>                        
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-6">
                
                <!-- <div class="card">
                    <div class="card-header">
                        <h5>Add Specifications</h5>
                    </div>
                    <div class="card-body">
                        <div class="digital-add needs-validation">
                            <div class="form-group mb-0">
                                <div class="description-sm">
                                    <ck-editor name="specifications" formControlName="specifications" id="editor1" language="en" [fullPage]="false"></ck-editor>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div> -->
                
                <div class="card">
                    <div class="card-header">
                        <input type="file" (change)="onFileChange($event)" />
                        <div id="output"></div>
                        <h5>Import products</h5>
                    </div>
                    <div class="card-body">
                        <div class="digital-add needs-validation">
                            <div class="form-group mb-0">
                                <div class="product-buttons text-center">
                                    <button type="button" class="btn btn-primary mr-1" (click)="importExcelData()">Import</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
